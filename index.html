<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Dual Boot Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Montserrat&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="container">
                
        <div class="listing-trail"></div>
                
        <div class="dir-contents-container"></div>
                
    </div>
    <script>
        const volumeMeta = {
            content: [
                {
                    type: 'dir',
                    name: 'Main Folder 1',
                    content: [
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.c'
                                        },
                                        {
                                            type: 'file',
                                            name: 'Abc.java'
                                        }
                                    ]
                                },
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 2',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.cpp'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 2',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 3',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Pikachu.mp4'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 4',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Mr Pickles.avi'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'file',
                            name: 'Hello, World.txt'
                        },
                        {
                            type: 'file',
                            name: 'abc.txt'
                        },
                        {
                            type: 'file',
                            name: 'counting.txt'
                        },
                        {
                            type: 'file',
                            name: 'lorem ipsum.c'
                        }
                    ]
                },
                {
                    type: 'dir',
                    name: 'Main Folder 2',
                    content: [
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.c'
                                        },
                                        {
                                            type: 'file',
                                            name: 'Abc.java'
                                        }
                                    ]
                                },
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 2',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.cpp'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'file',
                            name: 'Hello, World.txt'
                        },
                        {
                            type: 'file',
                            name: 'abc.txt'
                        },
                        {
                            type: 'file',
                            name: 'counting.txt'
                        },
                        {
                            type: 'file',
                            name: 'lorem ipsum.c'
                        }
                    ]
                },
                {
                    type: 'dir',
                    name: 'Main Folder 3',
                    content: [
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.c'
                                        },
                                        {
                                            type: 'file',
                                            name: 'Abc.java'
                                        }
                                    ]
                                },
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 2',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.cpp'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'file',
                            name: 'Hello, World.txt'
                        },
                        {
                            type: 'file',
                            name: 'abc.txt'
                        },
                        {
                            type: 'file',
                            name: 'counting.txt'
                        },
                        {
                            type: 'file',
                            name: 'lorem ipsum.c'
                        }
                    ]
                },

                {
                    type: 'dir',
                    name: 'Main Folder 4',
                    content: [
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.c'
                                        },
                                        {
                                            type: 'file',
                                            name: 'Abc.java'
                                        }
                                    ]
                                },
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 2',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.cpp'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'file',
                            name: 'Hello, World.txt'
                        },
                        {
                            type: 'file',
                            name: 'abc.txt'
                        },
                        {
                            type: 'file',
                            name: 'counting.txt'
                        },
                        {
                            type: 'file',
                            name: 'lorem ipsum.c'
                        }
                    ]
                },
                {
                    type: 'dir',
                    name: 'Main Folder 5',
                    content: [
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.c'
                                        },
                                        {
                                            type: 'file',
                                            name: 'Abc.java'
                                        }
                                    ]
                                },
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 2',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'abc.cpp'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'dir',
                            name: 'Sub Folder 1',
                            content: [
                                {
                                    type: 'dir',
                                    name: 'Depth Folder 1',
                                    content: [
                                        {
                                            type: 'file',
                                            name: 'Happy Eevee'
                                        }
                                    ]
                                },
                            ]
                        },
                        {
                            type: 'file',
                            name: 'Hello, World.txt'
                        },
                        {
                            type: 'file',
                            name: 'abc.txt'
                        },
                        {
                            type: 'file',
                            name: 'counting.txt'
                        },
                        {
                            type: 'file',
                            name: 'lorem ipsum.c'
                        }
                    ]
                },

                {
                    type: 'file',
                    name: 'Twilight.mp4'
                },
                {
                    type: 'file',
                    name: 'sonic.exe'
                },
                {
                    type: 'file',
                    name: 'backtrack.iso'
                },
                {
                    type: 'file',
                    name: 'manjaro.iso'
                }
            ]
        };
    
        const createItem = ({type='dir', name='Hello, World', content=null, onClick=null}) => {
            const div = document.createElement('div');
            div.classList.add('item');

            if (type === 'dir' || type === '..') {
                div.classList.add('selectable');
            }

            const img = document.createElement('img');
            img.classList.add(type === 'dir' ? 'dir-img' : 'img');
            img.src = (type === '..' && 'back.png') || `${type === 'file' ? 'file-md' : 'folder-lg'}.svg`;

            const p = document.createElement('p');
            p.innerText = name;
            p.classList.add('name');

            div.appendChild(img);
            div.appendChild(p);

            if (onClick !== null) {
                div.addEventListener('click', onClick);
            }

            return div;
        }
        
        let stack = [];
        
        const render = () => {
            document.querySelector('.listing-trail').innerHTML = `/${stack.map(item => item.name).join('/')}`;
            let contentContainer = document.querySelector('.dir-contents-container');
            contentContainer.innerHTML = '';

            stack.length && contentContainer.appendChild(createItem({
                type: '..',
                name: '..',
                onClick: () => {
                    stack.pop();
                    render();
                }
            }));

            (stack.length === 0 ? volumeMeta : stack[stack.length - 1]).content.forEach(item => {
                contentContainer.appendChild(createItem({
                    ...item,
                    onClick: item.type === 'file' ? null : () => {
                        stack.push(item);
                        render();
                    }
                }));
            });
        }
        
        render();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  </body>
</html>
